<!DOCTYPE html>
<html>

<head>
    <title>Home Page</title>

    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">

    <script src="/scripts/jquery-3.4.1.min.js"></script>
    <script src="/scripts/bootstrap.min.js"></script>


    <meta charset="utf-8" />
    <!-- <meta charset="utf-8"  name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />  -->
</head>

<body>

    <div id="myCarousel" class="carousel slide item active" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/img/Rome to Istanbul.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="/img/Sydney to Alice Springs.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="/img/London to Paris.png" class="d-block w-100" alt="...">
            </div>
        </div>
        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <h1 id="flightpath">Rome to Istanbul</h1>

    <div class="input-group mb-3 btn1" style="width:30%">
        <div class="input-group-prepend">
            <button class="btn btn-warning btn1" type="button" onclick="startVR()">Begin</button>
        </div>
        <select class="custom-select drop-list"  id="simulation"
            aria-label="Example select with button addon">
            <option selected>Choose...</option>
            <option value="1">Live Feed</option>
            <option value="2">Simulation</option>
        </select>
    </div>


    <button class="btn btn-danger btn2" type="button" onclick="window.location.href = 'test_aframe.html';">Test
        Aframe</button>
    <button class="btn btn-danger btn2" type="button" onclick="window.location.href = 'test_adam.html';">Hello
        Adam!</button>
    <script>

        function startVR() {
            let o = document.getElementById("simulation");
            let selected = o.options[o.selectedIndex].text;
            let simulation = false;

            if (o.selectedIndex == 2) {
                simulation = true;
            }
            console.log(selected + " " + o.selectedIndex);
            location.href = "test_cesium.html?simulation=" + simulation;
        }



        var index = 1;
        var id = 0;
        let text = "Rome to Istanbul";
        $('#myCarousel').on('slide.bs.carousel', function () {
            index += 1;
            id = (index + 2) % 3 + 1;
            heading = document.getElementById("flightpath");
            let name = document.getElementsByClassName("carousel-inner")[0].children[id - 1].children[0].src;

            name = name.split("/");
            name = name[name.length - 1].split(".");
            text = name[0].replace(/%20/g, " ");
            heading.textContent = text;
            //  console.log(index);
            //  console.log(id);
        })


    </script>
</body>

</html>